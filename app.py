from flask import Flask, render_template, request, redirect, url_for
from models import db, CarDue
from datetime import datetime

app = Flask(__name__, static_folder='static', static_url_path='/static')
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///database.db'
app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False

db.init_app(app)

with app.app_context():
    db.create_all()

@app.route('/')
def home():
    return render_template('home.html')

@app.route('/part_due', methods=['GET', 'POST'])
def part_due():
    parts = ['08I8897701', '08M9858100', '1430308180', '1864221007N', '1864221008N', '1864305009N', '1864316004N', '1864421058N', '1864727009', '1864727009S', '1864761566', '1864765009S', '1881411051', '1882709080', '1882709087', '1884808084', '1885510060', '213612A200', '21810A0100', '21830A0100', '219501V100', '2321003020', '2521202552', '2521203000', '252812A811', '252882A830', '25330C7100', '25430A0500', '2544126100', '2630002752', '263502J000', '263502M000', '2730103040', '273012B010', '2741002000', '2741023700', '2742002610', '2742003011', '2743003000', '2744002610', '2744003000', '2745002610', '2745003000', '28113A0100', '28113A0200', '28113B4000', '28113B4400', '28113C4200', '28113C7000', '281130X200', '2811305701', '281131J000', '281642M320', '282162F700', '286100X120', '286100X210', '289B02A130', '29110BV400', '29110C7000', '31120BV400', '31310B4200', '31922A9000', '31922H6900', '319221K800', '319224H001', '3287636000', '3531004000', '361002A430', '367202A800', '4110002730', '4110002805', '4110002810', '4110002857', '4110032910', '4130002710', '4130002805', '4130002810', '4130002857', '4130032910', '4142102000', '4142102010', '4142132300', '41510C4900', '41510C4910', '41610K3900', '4171002201', '4311928070', '4311928080', '4311939070', '4311939080', '4313402503', '4375005200', '43790BV920', '517203S100', '5175207000', '5292111111', '5292111151', '5292111251', '5292111311', '52940BV100', '5295017000', '54500B4000', '545000X000', '545001J700', '54501B4000', '545010X000', '545011J700', '54610A0000', '546110U000', '546110X000', '54650B4030', '546500X000', '54651A0100', '54660B4030', '546600X000', '548120X000', '5481207000', '54813B4010', '548131J000', '548133X001', '54830B4000', '54830C4000', '548300U002', '548300X501', '548302V000', '548304V000', '54831C4000', '54840B4000', '548400X501', '5533505100', '56394C4900', '56394H6010', '56394K6000', '56500B4970', '58101A0A00', '58101A0A50', '58101B4A00', '58101B4A06', '58101C4A00', '58101C7A00', '58101K3A00', '58101K3A10', '58101K6A50', '58101Q6A10', '581010XA00', '581622F300', '581624N000', '58350A0A00', '5838005500', '624000X900', '641010X053', '66321J9000', '71504K4C00', '76004J9010', '77004J9010', '82420BV000', '8265002000CA', '82661C7050', '82661K3300', '82665T7000', '83403C4010', '83450K6000', '83916BV0004X', '84142J9000', '8594507000NNB', '86110K6000', '86372J9000', '86373J9000', '86391J9000', '86392J9000', '86393J9000', '8659028000', '86610K4010', '86651J9000', '86652J9000', '86688C7500TLG', '86696K4000', '86812K4000', '86812T7000', '86821A0000', '86822A0000', '87712J9500', '87722J9500', '87732J9500', '87742J9500', '87752K4050', '87782J9500', '88820H6010TRY', '88830K6000NNB', '9J70031047', '92402J9100', '92405K4000', '92406K4010', '93405C7150', '93405H6600', '93571K6010NNB', '93571T7010', '93580A00004X', '93581BV0004X','94013K6530', '954133A000-AS', '96120BV2504X', '96630K3100', '96641BV000', '96651BV000', '96750C7000RDR', '97133A0000', '97133B4900', '97133C4000', '97133C7100', '97133F2200', '97133H6100', '97133S5000', '971334L000', '971380X950', '97139BV910', '97139C4900', '97139C4910', '97139K3910', '971390X900', '97410C78004X', '974601V100', '97480C7900YYE', '97606K3400', '97701H8400', '9771302000', '97762K3400', '97762Q6300', '9776205500', '97775K3400', '97777BV310', '98350A0900', '98350BV950', '98350B9900', '98350C4900', '98350C7900', '98350K3900', '98350K6900', '98350T7900', '983500X900', '98351A0900', '98351F9000', '98351H6900', '98360A0900', '98360B9900', '98360C4900', '98360C7900', '98360G2900', '98360H6900', '98360K3900', '98360T7900', '983600X900', '98361A0900', '98361D6000', '986300X900', '986300X910', '98815H2000', '98850A0000', '98850H2000', '1864508019N', '1882311101', '1884810080', '1887611090', '2110203M23A', '2144303011', '2145133A02', '2151223001', '218101V100', '2183005200', '2185005200', '21950Q6100', '2231103230', '2321002800', '2431202270', '2441002100', '2521203050', '2521204541', '2521204590', '252122A811', '252812A810', '25310C7300', '2531005900', '25411C7300', '2541105500', '25412C7300', '25414C9000', '255002A100', '256002B003', '256502A700', '2630022800', '264102A300', '2731003010', '2731003020', '281130X000', '281134N000', '2851003DK0', '28610B4200', '28610C7100', '287512B200', '287512V000', '288102A050', '29110C7100', '29110C7200', '29120B4000', '29130B4000', '31111B4000', '313101V000', '31922B4900', '328761J100', '3515002600', '3515633271', '3610004910', '4110002040', '4110002540', '4110002860', '4110032001', '4110032011', '412002D500', '4130002021', '4130002535', '4130002860', '4130032005', '4141202500', '414132D500', '414202D500', '4142132000', '4149032300', '41510B4900', '4151005900', '415104N900', '41610C7910', '4262202100', '51712A0000', '51712A0100', '51712B4000', '517120U000', '517120X000', '517124N000', '5172002000', '517204N000', '527504N000', '52970K6310', '54500A0000', '54501A0000', '54501C7000', '5450105002', '5453002050', '5461002010', '54650B4000', '54650K6010', '54650K6020', '54651BV000', '54651K6010', '54651K6020', '54660B4000', '5466005300', '54813B4000', '5481302100', '5482005000', '55310B4050', '55310B4060', '56500A0900', '56500BV950', '565001R091', '56512BV900', '56518BV000', '56519BV000', '56525BV000', '56527BV000', '56531BV900', '56540BV000', '56542BV000', '56552F2000', '58101C7A15', '58101Q6A30', '58101T7A40', '581010BA00', '581014NA01', '62400A0000', '64101BV050', '81181C4900NNB', '816J3BV000', '816J4BV000', '816S1BV010', '816S2BV010', '81624BV000', '81770C7031', '817700X001', '81780C7031', '8241424000', '82530K3000', '82662C7060', '83110A0000', '83130A0000', '831400X000', '834120X000', '84661A0709', '86341C7500', '86680C7500','86811C7000', '86811C7500', '87620BV050', '876211J200', '88810K3000NNB', '888930X1004X', '8916022000', '92101H6100', '92102H6100', '934301V011', '93490C7210', '93502T70004X', '93570A00004X', '93571BV0004X', '93571BV0104X', '93575B45004X', '93581K6500NNB', '938102E000', '93880K6800', '95670A0300', '96420A7000', '96641K6000', '97040C79004X', '97138C4900', '97138C7000', '97139A0900', '97139B4901', '97139C7100', '97139H6900', '97216B4900', '97311B4100', '97311C7200', '97312C7200', '974200X0004X', '97490K3900MMS', '97606C9000', '97614C4900', '976143X000', '976742S000', '97701F0000', '97762A0000', '97775A0000', '98350H6900', '983510X000', '983610X000', '985101J600', '986302K100', '0450000115', '1864755009E', '1864765009K', '2321002810', '252122A810', '252872A810', '252882A810', '253301P000', '25441H8300', '263002M000', '263202R000', '28113K6300', '28113N9000', '281131V100', '2851003DX0', '286004N501', '28650C7100', '28710C7100', '31119H8200', '361002A150', '4110002800', '4110026AJ0', '4130002800', '4130026AJ0', '415100X901', '4528002410', '51712A0200', '517121C000', '517200U000', '54500C7000', '548133S110', '553000X000', '56330H6200', '56500BV900', '56500B4950', '56500K3000', '56540A0000', '56540B4000', '58101H6A00', '58101N9A00', '58101T7A30', '58305B4A70', '58305C7A00', '583050UA00', '583050XA00', '5833005500', '58350T7A80', '583500BA10', '584111G000', '59710K3930VCS', '81320K6000', '81770A0000', '81780A0000', '81820K0000', '81905C4020', '82404F9010', '82530H6000', '826201R010CR', '83651K6050', '86110A0000', '86130A0000', '86811C4000', '86812BV010', '88810K6000NNB', '88820K6000NNB', '888200X0004X', '93405C7101', '93580C71004X', '938103S000', '95560BV000', '96330K3000', '964200B000', '964200X000', '966100X500', '96640C7000', '96650C7000', '97138A0900', '97701BV500', '97701Q6100', '98361H6900', '98610T7900', '98850C7000', '1864760558L', '1886808115', '2135004531', '2151227001', '21810Q6300', '21830Q6400', '2221104000', '2221204030', '222242B001', '2231104031', '2244104070', '2410004110', '254111R150', '2881004300', '29110A0000', '29110K6000', '29110T7100', '31921Q6900', '37180A0000', '3918003000', '392652A810', '4110026040', '4110026110', '4130026040', '4130026110', '41610Q6900', '495000X110', '51712H8530', '51720H8000', '52750F9100', '52910K6000', '52940T6100', '5295014140', '52960B4250', '54500C7100', '54501C7100', '54611C7000', '54627H9000', '54650BV000', '54650C7000', '54650C7100', '54660C7000', '54660C7500', '55310H6000', '56330CC000', '56340T7000', '56394A0150', '56394BV000', '56394K6200', '56500C7100', '58101AYA00', '58101C7A10', '58101H6A20', '58302AYA00', '583300P000', '583800P000', '584111R000', '585312B500', '76990K6000', '81230H6000', '81770C7021', '81780C7021', '8219138010', '82402A0010', '824041J010', '825401J000', '82610C7000RDR', '82620C7000RDR', '82651C7050', '82652C7060', '8266002000CA','83655C7000', '841362B000', '846201J000RA5', '84650BV510TMT', '84763K6900T9Y', '86153K3000', '86310BV020', '86811A0000', '87620K6140', '88810H6010TRY', '92101A0400', '92202BV000', '93490A4110', '93570A01004X', '935800X0104X', '94013K3630', '95910K6000', '96125DY800', '96125K23504X', '96710BV000NVC', '96720BV100NVC', '96720BV110NVC', '97139C7000', '983504N900', '983604N900', '98815A0000', '99240BV600', '209102AM10', '210202A908', '210212A908', '213502A120', '2151323001', '21830H6300', '222112A100', '222122A100', '222314A001', '224112A650', '230402A905', '230602A908', '234102A033', '243512A700', '243612A700', '243702A700', '243762A000', '243772A000', '243862A000', '243872A300', '244102A700', '252872A820', '25386T7170', '253860X160', '25414K3400', '25415K3400', '255002B000', '2641004502', '2730103035', '282312A550', '28710A0100', '31338Q6900', '314002A150', '338002A150', '338134A100', '338162A001', '3610005000', '361002A305', '373222A120', '373342C110', '3922038030', '4110023138', '4130023138', '4130032030', '4171023005', '437A2BV920', '43711BV900NNB', '517120X700', '51720F0500', '54501Q6000', '548131S000', '55326H5000', '568201R501', '568211R591', '581011VA00', '58350H6A00', '81230C7000', '81320K3000', '81905A0010', '82420K3000', '82450A0000', '82540A0000', '82540BV000', '86551K6000', '86552K6000', '86812K6000', '9475037100', '952242D000', '97138H6900', '97138K3900', '97139H6910', '971431M000', '971802M010', '97606C7000', '97606C7300', '97701C7000', '97701C7300', '97762C7000', '97775C7050', '986301R100', '1731330000', '2091002M03', '2102002805', '2110202M11', '2131002552', '2141102500', '2142103000', '2144302501', '214432A200', '2144402400', '2210003700', '221443B001', '2221102220', '2221103000', '2221203211', '2221205800', '222232A800', '222242A100', '2231102780', '223112A120', '2244103050', '2304005701', '2304105700', '2306002805', '2312702540', '2461003000', '2510002588', '2512402500', '2521223021', '25310C7000', '25310H6050', '253854R600', '25386B2800', '25414A0500', '256132A700', '256222A011', '2565002900', '263502J001', '2743002610', '281134N800', '2823103050', '282312A540', '2851003KH0', '289B02A110', '289B02A200', '29110H6000', '296302U000', '3921008200', '4110026350', '4130026350', '41600A0910', '41605H6900', '41645BV000', '4171023050', '51712C8000', '51712H6400', '517120U100', '51720K3000', '54611H6000', '56340C7050', '58101D7A10', '581614N000', '5816333000', '58350K3A00', '58350Q6A00', '76980BV000', '825304N000', '825404N000', '835304N000', '835404N000', '84654K3900MMS', '85930BV000NNB', '86811B4000', '86812A0000', '876161J400', '88199C7010TRY', '88260H6490SWR', '88360H6990SWR', '88460H6990SWR', '896302V000', '89830BV070NNB', '91950C7250', '92401BV600', '93490K3110', '93530K6500NNB', '93790C78004X', '95560T7000', '96125K31004X', '96201C7050', '96370T7500', '96640B4000', '96641K3100', '96700B4300RY','97138B4900', '97138Q6900', '97139A0950', '97139C4920', '97143B4910', '97606A0500', '97606B4000', '97606K6000', '97701A0700', '97701B4000', '97701H8300', '97701Q6300', '97721H6000', '97762A0500', '97762BV200', '97762B4100', '97775A0500', '97775B4100', '97775B4110', '981204N900', '98350AY900', '983502W900', '98360AY900', '983602S900', '1430306220', '211022AM21', '2244102230', '232002A502', '2321003010', '25231C7390', '252812A812', '25310C4200', '253101R000', '25327C7000', '253361J000', '253854L000', '25386AY220', '253861R220', '25441G6000', '263202F100', '2730102800', '28113D3100', '29110B4000', '29110K3000', '31119C9000', '31922D3900', '3730007000', '391802A120', '391802A210', '392652A840', '393502A150', '4143002583', '41640Q6920', '41690C7900', '438002D520', '55307K6030', '55307K6400', '553304N000', '56340B4450', '563504N500', '56394CC000', '58101C7A50', '581612F300', '5816332000', '587750P000', '58930BV300', '64101B4951', '81410K6610', '824044N010', '82661BV700', '834044N000', '85810J9000TTX', '861104N910', '86154BV000', '86551BV000', '86811B4500', '86812BV000', '868124N000', '86822K6000', '87240BV000', '87610BV050', '87620BV010', '87620B4330', '921020X100', '93405K3000', '9386002510', '96120AY100', '96125K35204X', '962201J100', '96641A0100', '96651A0100', '96710BV030MMS', '96720K3120NNB', '96751BV000NVC', '96752BV000NVC', '97129B4900', '97133D3000', '97133N9100', '971394N900', '97404AY900LS4', '97410K3900MMS', '97420K3900MMS', '97701BV200', '97701C4000', '97701K6500', '97701Q6400', '97762K6110', '97775K6110', '98311B9900', '98351C4900', '98850F8000', '99240BV300', '99310AY010CA', '1864955009K', '209102AU07A', '210202A906', '210212A904', '21810H6100', '21810Q6000', '2241003070', '230402A953', '230602A907', '234A02A920', '2441002750', '25310C4000', '25411H8300', '25412H8300', '256412A100', '263102A520', '2730103110', '282012A870', '296602A100', '4380026602', '495L3K3520', '527504L000', '529100X000', '52943BV100', '54500T7000', '5461107000', '54650H6100', '546504N050', '54660C7100', '54660H6100', '548134N000', '548154N000', '565004N990', '568200X010', '5810105A10', '584110U000', '647374N000', '81230A0000', '81310A0200', '81310K6610', '81590K6800', '84655K3900NNB', '86821BV000', '87610K6140', '87611BV000', '87624BV000', '88820K3000NNB', '92402B4000', '93570C71204X', '93570C71214X', '94003BV000', '954134N000', '966502E000', '96700C7030', '96700C7120', '971571JAA0', '97311A0000', '97311H6000', '97312A0000', '97312H6010', '97410C79004X', '97420C79004X', '97490C7900YYE', '985102S000', '1430310200', '2110103M36A', '2142103001', '2222302500', '2437503010', '252122B140', '25231M0390', '25385D1000', '25386BV250', '2544102000', '263202R001', '2821604000', '31920N9800', '3610004710', '4142126800', '415100X911', '41600G3100', '4313402504', '5171202501', '529100X055', '54584A0000', '54650B4050', '54660B4050', '55310A0000', '56394H6000', '56394K3010', '76980C4000', '81310K3040', '81800C4000', '81996K6100', '82210K3000', '82220K3000', '82661B4020', '826621V060', '83427A0010', '84661H6919', '85820J9000TTX', '85930K3700NNB', '86313BV700', '86811BV000', '868111V000', '868410X200', '868420X200', '87610B4330', '88810BV000NNB', '88820BV000NNB', '92405A0600', '93571K6120NNB', '93581K6000NNB', '94360K2100', '95430T7200', '97133D1000', '97133F2000', '971381V000', '971391R510', '97158B4900', '97217B4900', '97250B44514X', '97311A0100', '97312A0100', '97410B49004X', '97420B49004X', '97701D3700', '977011V000', '97762C7300', '977621R000', '977621R050', '977624N000', '97775C7000', '97775C7300', '977751V500', '9836005000', '98850H9000','209102AU07B', '2110204M13', '215102M000', '21830H6200', '21950H6100', '231102A400', '235102A501', '2420004170', '2432104005', '2435004000', '2435503011', '2437004000', '2441004080', '2442004080', '2443104080', '251002A020', '2521208450', '2528104521', '25310B2400', '25310B2450', '25329A0500', '25350C7050', '25411A0550', '25415A0500', '25430K3400', '2563003010', '28110B4400', '28220H6500', '286100X211', '29110B4500', '291200X000', '291300X000', '3921003083', '4362402520', '51712J1500', '51712T7400', '527501G101', '54661A0100', '54810H6000', '553001V060', '553004N000', '563404N550', '563500X790', '56394C7000', '56394K3000', '583020UA30', '587751A000', '58930C4300', '64101K3000', '69510K3020', '81320B4080', '82404K6610', '82450K6000', '82460K6600', '825300X000', '82651A0020', '86310K3500', '86812C7000', '87110K6710', '88840K6000NNB', '928502H000DU', '93300H6930XUG', '93430K6010', '93490A4010', '935300X0004X', '93580C71204X', '935804N0004X', '93581T7000', '944600X001', '95671A0300', '971384N900', '972341V000', '97480K3900MMS', '983501F950', '1737110044B', '2091003M06', '2102003003', '2103003002', '219200U000', '21950K3100', '2304003223', '2304103163', '2306003002', '243352A210', '243762A700', '2510002590', '2510003020', '2560002900', '286004N500', '287101V100', '29110BV500', '29110K6800', '311191W100', '3610004700', '371601W000', '392652A860', '4110002740', '4130002740', '43700B49004X', '43700K3810NNB', '4380032601', '529100X050', '545612E100', '54650K6410', '54651K6410', '55307BV000', '56100AY250NNB', '56310BV000', '563100X590', '56340B4200', '56394K6020', '58350K6A00', '591100X900', '64101BV000', '813F2K3000', '816J1BV000', '81680BV000', '81905K6640', '82120K3010', '82308K3050MMT', '824030X010', '82404K3010', '82460K3010', '82540K3000', '8414329000', '84650BV570UAY', '86110K3000', '86310C7500', '86651K3000', '86811K6700', '87620AY040', '898201V000HZ', '92101T7000', '92207AY110', '92208AY110', '92501B4000', '93430B4050', '93490K6010', '93571GI880LS5', '93840B2100', '94013K3610', '94360K2000', '94460K3000', '96201B4100', '96210BV150T2X', '96641K3200', '96710BV030NVC', '96751T7000TT6', '96752T7000TT6', '97139D3500', '97143B4900', '97180K3000', '97410T7900BX5', '974801V100', '97490T7900BX5', '97614Q6900', '97701K3300', '97775C4010', '97775K3300', '97777BV510', '988501Y000', '99330BV300CA', '1601110000', '1751112000', '1887411080', '2103002805', '231212A000', '232002A701', '243512A600', '243612A800', '243772A700', '243862A700', '243872A700', '25310K3400', '25386BV550', '263152A000', '2730104110', '273012M320', '28610BV300', '311100X000', '31120K6050', '31511P1000', '3730008900', '49501H6250', '495513X000', '52910T7190', '52910T7500', '52960H6400', '54500Q6000', '545001R000', '54501T7000', '545011R000', '54610Q6000', '55326D8000', '56100K3700MMS', '56340K3000', '563401V250', '563500X695', '58302N9A10', '5833025300', '583501C000', '583701C000', '5838025300', '584111C000', '64101C7000', '77003BV010', '77004BV010', '77511BV000', '77512BV000', '77521BV000', '77522BV000', '81410BV010', '81420AY010', '81831BV000', '81841BV000', '82652B4050', '83665BV000', '85930T7000NNB', '86110BV000', '86512A0000', '86676K6400', '86811H6000', '86811K6000', '868114N000', '86812B4000', '87610BV010', '87610J9510', '87616T7020', '87620T7060', '87752A0000', '88830AY000NNB', '92101K3100', '92401K3000', '92404K6400', '938103S700', '938403K000', '9386002003', '9386026600', '94003BV030', '94003BV050', '96125K2300', '96641H6100', '96641K3000', '96651H6100', '96710K6010T9Y', '96720K6000NNB', '97179H8000', '97606H2000', '97701K2150', '97762H6500', '97762K3300', '97762T7400', '97775H6500', '983803N050', '9862502000', '986301R800', '253104N000', '253303Z000', '25350C7350', '256192A750', '2565002766', '281642A500', '28210B4100', '284302A750', '289B02A190', '3610008900', '361002M380', '412002C500', '52933D4100', '54500H6000', '581014NA30', '81831K3500', '81841K3000', '81900F9700', '8191931000', '82120BV000', '82401T7010', '82620B4010PGB', '82651K3220', '83661K3010', '841464N000', '86180C4000', '86565A0010', '86811BV010', '86811T7000', '876104N630', '87611K3000', '87616K3030', '87620K6060', '87753BV010', '87771BV010', '88260BV300UKP', '93580C71104X', '9381026000', '94013K3280', '95560K3000', '96120K69104X', '96370BV100', '96610B4000', '96700A00114X', '97250H6510VCS', '97311K3000', '97312K3000'





]  # Replace with your actual list of parts
    if request.method == 'POST':
        reg_no = request.form['reg_no']
        model_name = request.form['model_name']
        part_required = request.form['part_required']
        date_time = datetime.now()
        dealership = request.form['dealership']

        new_due = CarDue(reg_no=reg_no, model_name=model_name, part_required=part_required, date_time=date_time, dealership=dealership)
        db.session.add(new_due)
        db.session.commit()

        return redirect(url_for('active_dues'))

    return render_template('part_due.html', parts=parts)

@app.route('/active_dues', methods=['GET', 'POST'])
def active_dues():
    dues = CarDue.query.all()
    if request.method == 'POST':
        reg_no = request.form['reg_no']
        due = CarDue.query.filter_by(reg_no=reg_no).first()
        if due:
            db.session.delete(due)
            db.session.commit()
        return redirect(url_for('active_dues'))

    return render_template('active_dues.html', dues=dues)

if __name__ == '__main__':
    app.run(port=8410,debug=False)
